language: c

env:
  matrix:
    - TARGET=neko FILENAME=bin/test.n

matrix:
  fast_finish: true

before_install: # clone travis-hx repo
  - travis_retry git clone --depth=50 --branch=master git://github.com/waneck/travis-hx.git ~/travis-hx

install: # setup the target
  - ~/travis-hx/setup.sh

script:
  - cd $TRAVIS_BUILD_DIR
  - haxe hxml/utest.$TARGET.hxml -D fdb
  # run the tests
  - ~/travis-hx/runtests.sh $FILENAME # this will set the $FILENAME defined on the environment variable to run the tests
